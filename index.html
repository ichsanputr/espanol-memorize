<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Espanol</title>
</head>

<body>
    <button onclick="changeMode('number')">Number</button>
    <button onclick="changeMode('verb')">Verb</button>
    <button onclick="changeMode('adverb')">Adverb</button>
    <button onclick="changeMode('thing')">Thing</button>
    <button onclick="changeMode('conjunction')">Conjunction</button>
    <button onclick="changeMode('preposition')">Preposition</button>
    <button onclick="changeMode('conversation')">Conversation</button>
    <div class="main">
        <div>
            <h1 id="word"></h1>
            <input type="text" id="answer">
        </div>
    </div>
</body>
<script src="question.js"></script>
<script>
    let mode = "number"

    function changeMode(_mode) {
        mode = _mode

        if (mode == "number") {
            const randomIndex = Math.floor(Math.random() * number.length);
            [word, answer] = number[randomIndex].split(',');
        } else if (mode == "verb") {
            const randomIndex = Math.floor(Math.random() * verb.length);
            [word, answer] = verb[randomIndex].split(',');
        } else if (mode == "conjunction") {
            const randomIndex = Math.floor(Math.random() * conjunction.length);
            [word, answer] = conjunction[randomIndex].split(',');
        } else if (mode == "conversation") {
            const randomIndex = Math.floor(Math.random() * conversation.length);
            [word, answer] = conversation[randomIndex].split(',');
        } else if (mode == "adverb") {
            const randomIndex = Math.floor(Math.random() * adverb.length);
            [word, answer] = adverb[randomIndex].split(',');
        } else if (mode == "preposition") {
            const randomIndex = Math.floor(Math.random() * preposition.length);
            [word, answer] = preposition[randomIndex].split(',');
        }

        document.getElementById('word').textContent = word
    }

    const inputElement = document.getElementById('answer');
    inputElement.addEventListener('keydown', scrambleQuestion);

    let word = ""
    let answer = ""

    // get first word - answer
    const randomIndex = Math.floor(Math.random() * number.length);
    [word, answer] = number[randomIndex].split(',');

    document.getElementById('word').textContent = word

    function scrambleQuestion() {
        if (event.key === "Enter" || event.keyCode === 13) {
            const inputValue = event.target.value;

            if (inputValue.toLowerCase() == answer) {
                // based on mode
                if (mode == "number") {
                    const randomIndex = Math.floor(Math.random() * number.length);
                    [word, answer] = number[randomIndex].split(',');
                } else if (mode == "verb") {
                    const randomIndex = Math.floor(Math.random() * verb.length);
                    [word, answer] = verb[randomIndex].split(',');
                } else if (mode == "conjunction") {
                    const randomIndex = Math.floor(Math.random() * conjunction.length);
                    [word, answer] = conjunction[randomIndex].split(',');
                } else if (mode == "conversation") {
                    const randomIndex = Math.floor(Math.random() * conversation.length);
                    [word, answer] = conversation[randomIndex].split(',');
                } else if (mode == "thing") {
                    const randomIndex = Math.floor(Math.random() * thing.length);
                    [word, answer] = thing[randomIndex].split(',');
                } else if (mode == "adverb") {
                    const randomIndex = Math.floor(Math.random() * adverb.length);
                    [word, answer] = adverb[randomIndex].split(',');
                } else if (mode == "preposition") {
                    const randomIndex = Math.floor(Math.random() * preposition.length);
                    [word, answer] = preposition[randomIndex].split(',');
                }

                document.getElementById('word').textContent = word
            }

            document.getElementById('answer').value = ""
        }
    }
</script>
<style>
    .main {
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
    }

    input {
        height: 25px;
    }

    .main {
        text-align: center;
    }
</style>

</html>